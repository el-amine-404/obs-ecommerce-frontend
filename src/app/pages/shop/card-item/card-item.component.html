<div class="row">
  <!-- Page size selection dropdown -->
  <div class="mb-3">
    <label for="pageSize" class="form-label">Items per page:</label>
    <select id="pageSize" class="form-select" (change)="onPageSizeChange($event)">
      @for (size of pageSizeOptions; track $index) {
      <option [value]="size">{{ size }}</option>
      }
    </select>
  </div>
</div>

<div class="row">
  @for (product of products | paginate: { itemsPerPage: pageSize, currentPage: currentPage }; track product.id) {
  <div class="col-md-4">
    <div class="card mb-4 product-wap rounded-0">
      <div class="card rounded-0">
        <img class="card-img rounded-0 img-fluid" [src]=product.image>
        <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
          <ul class="list-unstyled">
            <li><a class="btn btn-success text-white mt-2" [routerLink]="[product.id]"><i class="far fa-eye"></i></a>
            </li>
            <li><a class="btn btn-success text-white mt-2" [routerLink]="[product.id]"><i
                  class="fas fa-cart-plus"></i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="card-body">
        <a [href]=product.id class="h3 text-decoration-none">{{product.title}}</a>
        <p class="text-center mb-0">{{product.price | currency:'MAD'}}</p>
      </div>
    </div>
  </div>
  } @empty {
  <div class="alert alert-danger" role="alert">
    No products are available.
  </div>
  }
  <!-- Pagination controls using ngx-pagination -->
  <pagination-controls (pageChange)="currentPage = $event" [maxSize]="5" [directionLinks]="true" [autoHide]="true"
    [responsive]=true previousLabel="Previous" nextLabel="Next" screenReaderPaginationLabel="Pagination"
    screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page">
  </pagination-controls>

</div>
